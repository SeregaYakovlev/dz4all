function SetCookie(name, value, expires) {
    console.log("SetCookie");
    var now = new Date();
    var AddedDate = now.setDate(now.getDate() + expires); // Здесь now переставляется на месяц из-за now.setDate
    var date = new Date(AddedDate);
    document.cookie = "" + name + "=" + encodeURIComponent(value) + ";" + "path=/;" + "expires=" + date.toUTCString();
}

function DeleteCookie(name) {
    console.log("DeleteCookie");
    var date = new Date(0);
    document.cookie = "" + name + "="; "path=/"; "expires=" + date.toUTCString();
}

function getCookie(name) {
    var matches = document.cookie.match(new RegExp(
        "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
    ));
    return matches ? decodeURIComponent(matches[1]) : undefined;
}

function ifCookiesEnabled() {
    console.log("ifCookiesEnabled");
    var cookiesEnabled = navigator.cookieEnabled;
    console.log(cookiesEnabled);
    if (!cookiesEnabled) {
        var para = document.createElement("p");
        para.innerHTML = `Файлы cookies выключены. Некоторые функции могут не работать.`;
        document.getElementsByTagName("header")[0].appendChild(para);
        para.className = "announcement";
    }
}

function hideTables() {
        /* Эта функция нужна для следущего:
         * Если у меня есть пустые json-файлы, то на странице образуется пустые места.
         * Эта функция их убирает. Заодно, при выключенной опции HomeworkNotifications
         * убираются пустые строки, предназначенные для удаленных предметов с домашкой,
         * которые на странице все равно есть при наличии этих предметов */

        var tables = document.getElementsByTagName("table");
        for (var b = 0; b < tables.length; b++) {
            var isTableEmpty = true;
            for (var m = 0; m < tables[b].rows.length; m++) {
                var isRowEmpty = checkIfCellsAreEmpty(tables[b].rows[m]);
                if (!isRowEmpty) isTableEmpty = false;
                else {
                    // здесь заодно убираются те самые пустые строки.
                    tables[b].rows[m].style.display = "none";
                }
            }
            if (isTableEmpty) {
                tables[b].style.display = "none";
            }
        }
}

function checkIfCellsAreEmpty(row) {
        var cells = row.cells;
        var isCellEmpty = false;
        for (var j = 0; j < cells.length; j++) {
            if (cells[j].innerHTML !== '') {
                return isCellEmpty;
            }
        }
        return !isCellEmpty;
}